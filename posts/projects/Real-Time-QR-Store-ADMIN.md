---
title: "QR based Real time Point Of Sale System"
subtitle: "Revolutionizing the Dining Experience for customer"
date: "2023-06-25"
category: "spring boot"
---

<p>
# Introducing a Seamless Point Of Sale System: Revolutionizing the Dining Experience

In an age where convenience is paramount, diners are no longer content with traditional ordering processes. With the rise of digital technology, the way we experience dining needs an upgrade. Enter our new Point Of Sale System, designed to blend convenience with efficiency.



# How does it work?

![](https://lh3.googleusercontent.com/pw/AIL4fc987GA3eoq2_1mgiVzxSzxzvIhaM3QJ9zKdIx48J5rRnYcyZ7wRy5FcQ4Hnl53UaqD3C9uetNttmANCugDR0TUDWECACzPjL5qaSjZMngKOU4GVNly8N2YRr2T6RKNa4C4s9TZlQg-6g-asS5rFRewOIdrPYVGySmE4tfCG9EjXiex1bgrcJb65C11FgTg67gBH6o4uVRRuPmbnuYj3VZpm6kwilWnIZtds75ziIvtR7Sc6g8a4jfSB3HliBer1wtTfiDZuTv5gXMO1enZTz9U_oi8U8_6ty6F33HCepHs6W-DL2ILSRP8FFTfzIS8l5gD5QoI5-b0jGsMGbLaWizUehF39aEKZexcDEZURG2itrX3vnLMDqV2BleoBTY2CxFrVn6zU1QR8fWabDEYoqdHAwWY9v7q-tdz2HO8D8aFrKoBx6GhAzFD08pZEh17a_JzZ9eMFwPQ44NbpH2Y3WUKI1UjgrNv7BhZh-eiWtLvyr00SVp9e9UEU8gj0piXMMx9uDtKJX9rdxBRJVlB8EbMi_vSra6ySUD-zlwZNocOmdFwpuJ1H8Di6gMS4x5ZTxyO5MXme6bpsfRlfRNhT_tGj77aiBG0bBLQrd_vkcViWxVVT05LTB2CPz4CddtCaXUpIbEPoEjfXptMs8aaAXZsEapHkUI0xTcWuFwjH2yXsx5am1FobZuWdnmQd71TUofa8elYbgnJZiT9U-a0A9JaCxlMZdrsD4gtYqJ3Ht6XkeaCiOs-rTPHYyYC95hmKSqHRqzl9rpEMu83jz_e5Zhk8YJ50xmpdsTEo89zGajFmyjL2ORp20opQLOFliPnqDEYQMmj5oTt27Y1pp6xQsFqiYEY1y0KJuTg_TQFGEGVWnxPsmOYe7YFCqIIFi5rsoN23KvD9N7s0E-UeSyEFxoHNNbYR39Y2oehl53HteZ1Et4kNkEn9nC0PNJGyHxk=w1219-h914-s-no?authuser=0)

### Smart QR Ordering 
Each table is equipped with its unique QR code. Customers can simply scan the code to view the menu and place orders instantly. No waiting, no fuss.

![](https://lh3.googleusercontent.com/pw/AIL4fc9Mev1nRCNqGJb9TKjnc9Eu7py1zaVxOng2mQhgQNMR0HAwDTEK1VpbnAfUKhUF4OdsyAbK8qZCX0UcJNjd8Ri8AauuGKTYqoU5bjF9DVC6UY6s1pP1u2iWgukD4gDIER-lDEbxhkqb7nHXazMJetISv7WDm4J1QM-DGJQDt-qqJxbaPfpUV0mO22RmRgPbqSaPmRhFb8NHck8D4EwCBQ0PHWGumAhVXa8_2DsQ9vPD5Q7j6jC7xSSafPrWBfdlyyZxms_4b9BofD9kG6M57egRZzYgk1_AkBodFzOiVfbXa2uERFQ0_xeaBvnsSOVFAXpALcjdglD1OuHb2yJrhTZLWBkxqn7jCN9WKjnVf7gGXpEDdGZyQ6VJvFIr1O-sZaGz1Ls0ZyrcN8Yy1xhE2SqmzZX5GINcq7Ga2jjCteQhpiT1nsH65U_Kg9qK0rIDtWAZuD0R1aI8sNRoEoaFogxrgDA3oqiZMHE-mlP3l79-VKLz5Cr5Mu4s4Nu7tpLCdGWtDMqcsQmKgdfcpp8viUI_dycjSbcvszQJwVuOi0sWarJ4RxkCPX_UZHFlIqikRIHcIwBiuJ-pI5zBDrJpHZu9atSwFdujL_Ili6YKKnwvlDr__sPqViAYPiqhpvfYG0ldJ87eMksR1E11R5fy_Aohu70q-RHKnKbHBJ-Gq_K6T2Voq5Nx0KT9T0oGnyYpfBtaknw2DWDssKsI4nojIf8HJV0nAOsFQ6Kkdn3g2lTTb-jcBaLEK9kGL_plC4CMjcqUV5ShfJld7oVEbetLsmku5omz4QseeFjYzoRiHOEl7IwNn7FSmGiQl5hiYv00XLrG5bYoZrzDGJlz-YpTkvk823R51s2gWO0dGxZYSIN7kwUfRNjVIVA7_AkI09TkcBsH1-l_Se5o7C7zSJhpXqtg4aOtPEvXsKJlRwlugB_WBa_4ecNuCYQ6UynUeoA=w903-h675-s-no?authuser=0)

### Real-time Order Management (Socket.io)
On the backend, administrators and staff have immediate visibility of incoming orders. Whether it's a single café or a chain of restaurants, all orders funnel into a real-time system. This ensures timely preparation and delivery of meals, enhancing customer satisfaction.

## [Socket.io is on process]!

#### ***You can check the full orders that came from multiple tables***

![](https://lh3.googleusercontent.com/pw/AIL4fc_oJLGw1G7FGuf-SuqPKFZJdOOfZDuZclq-u8bfMKtJWvXcs3I3VlJxK7z3qyTaeQEjuuRKBRUsg19BPN4zh3MH1GNQdwzv7naSCKrnnyvduhIbafM9gwu7O8hBEAnsrPvZgz0Ni-vXVqG93aSNTl3uBBDok7Pa4h-ZlDpEFc5BfiLyayTa3h1I8biRGvufMpZEbPM9CjGXDI_RNIE-xztdwsivBqa2k_9TnbvBumDrrVlDv7AqlKVRkvF_WrdRta5xWGqyjNbEiS91RggGRgY3YAP5gSOV44kWezQHP0x1vKhgqNuTua__ctRCFCRTui7xbzi0O4bW4Hl9WvDKL1d_F2vINiyahYwaX0ZoAN0maK8Y_5lWDkGlUcCZoxEoxHDzSy4W0-PcymZ2F4oM2XnuQ-yFigcgbad0D7K6hSsohQxWa0lly6ytj3hwtPlwMm4jYU0o0HSAVjUer-_VJkb0o7UCnHZ0joMfvNB06qMufeLXZ2j1SKwQB7FKQF9pE0-B3xJf8xOSrbymzkei154CgCKFPKdwQ9Nv2ebUOlSIPgAMji1KmS5lFf0ki6YT2KYHxwLLz7sNde9XS8jIhR263Lr5U9N5Nn0LEwCOlMmMsxB4cYDzw8CkhQ3DIeBwESPnzupXh0gtszKc7iRSW97oEB060m_q95Ypd8hs1nRAMHudwMgQ4LMmWP28FJEqIz9gzkFRXRTqDl-e1b2S7H-GAbPNY1cHUNnHHE-4QWvnymo9Zydk94tBoz3TnYwnvg6AcMLgokahzIrpbIotYOLuuFudcJHKHI8CGUe_uMpxZk9FwIp0oOrUAywDK4NUCRaFkoNWFI0Gn4DxhnnEwKlHXNSdOImWZgOW_pyCQFfOuxJvYZN0F__GuqgQAjGW0Im1c__lWNpmbKeNom713wB884RT21Pqz7UYkdOyFhwPmDENFVbQo_0h6w8t0IA=w954-h829-s-no?authuser=0)

#### ***You can see the orders by each Tables that you made***

![](https://lh3.googleusercontent.com/pw/AIL4fc87ipiNZ_YbfHoQlQgofQQDRD_yXoDtOG84NL-ydtjsV91rUecHpW83F2WSVq3S3kP40e56Sh8BBdxBtCpg8CTdzRrUufwwCHFfqzBZ8yOhXHU6URNpIdl024hB6zR0oYb6L0W5fYsSl7UtXjpJLKLNarjJhgDy2vNwuf5fpZbO2K0uaNX5TEkEnX8dHPosmpCr1L0lswiIBipKtlwXl9DsoNH1bfOmaRhi02i4Zj_rJKc7pkwf2CGzRHj-DEYLOnGVCpmgrpCCGEeV_qJxAIzU4l8WFvbKI0fUN_62XGrfCjXV1aQA_rEUZ5LhE8mFuJKc0G8nsQMaXUww6eAwKxoYNnLX4uz5f1KX9kDPryLu-eMFRFzNO-Fqc3xr1j3brlww1lN0ZYJtKGQ65895pCON34Ne9RpZ7aP2faWxQ184APQ95WmAjtyjOEtTI9VhZHcEHYXmPETJct8yUUumoQe1fXka1o4P5_ggGdCGXAMNUhnMdzPbAVJCJKSTME-MdyM1jzQz5W4bHogoFzQQ4Bbz5IcrW-FG1NeDIi-n5sfiD4AmlEYMzN_e-eOMzKY7S_XmSOxYWH-fBhmhedYk0u__XRVwQKjm-eHUgkx7XfLVsPkbN8QY3IdVRUYxZfwqvtQ7h8eah-5RL9sBgDq2ZrGE3XGc-UREksAvKHQHCDkzygEgRFilPqaxzq48RGQKBlR1-Ht_v4c6SMbdeb6UNd8JLwCM5qHb5HMG13Ykc9VvXpotFQ2UriQpNpCuPJ3FLtm6GmQkx0l2bPz3xt6RH5xxpwrhu6nTLTTyjtgwGincRkXzCf7kvzO2_CWogRrB4xXP6n6HG5RdudpPrC_QtiArElu_W45QKJNJnIdBqLuLLcbYlj1exlgWo3PoAnoeJYdKVjirT4xnzxx8appRNb5L6TMU5IXiqLHBpx5HcwvtYcwVNBbiWURWP020Q_I=w1029-h517-s-no?authuser=0)


#### ***You can see the detail of the each order***

![](https://lh3.googleusercontent.com/pw/AIL4fc9SJ4P4YjvfFamL8pL7ePPCr6GVcWxMiVPDvecIphL_IIlG9lAG0a_ZDNDJ6DwkewPBp5ugl2HyDzw8hhOTZ_Jo1tH0PTA3qzG_n_DqMU93l0hs9r5PqVK81HSpaCt4xOZ4krur6M-k5vPyHLrskJdPzYHc4ZEvGahEA1lRQY6wRupYsreDMtgWr36TfvhsZt_FuHXhvTvh058UnmzM-mcM0PEBliasQbpCEQyjbrGQEZIBwvHFhdJyJxgBvd62awd-Osw3q51kLCkR9R0KD3WFIF8Mbc0b5J_CfNfd0GEjk61JyPE1SKmDQeX0NyEIKo_vaTr5p4uwdIIZwbZEpYxxuhl_z7ssZgASQ1We3qLqT_fYlRlKGVGz55SjjRZFygkd6bJ-9WL1T9WkqQvBMX3zeIovRVN4Il3b5FjnxEztsKZUIlOehchkgAhb9dZ7_LYJ7TTi_Vps1VLdZTUCY_0IYGErX32WmE_fzx5AWumfaZB9ZOuNeitJ547pQY2fPtuY2SkmWqC3JMPcWC_x6U3rgAZYk2FY4zG7UKIY74NqlNtge_Kub28AankUPtO91JJOoSYMDE8NLCiM0wGAjJ6Ly1VaOGB2NSPEspmwp53R-l5wRCB0f0ZCQ7AfE4FyvFIP-HYLRmc5i-oHXuDiRxXuFuu5KINC0yFBMhANymDIGLjsHAE1i9xVSFmGZcyijYdbCfiunRnedrzU1ZEQEgpuiH8SDKAFfL1XVNtT8eL8YpZ0NNC4CTpBwhsiBBboHaXIYD4ErgGXijfELzq7PEqAysfQsXDIFjCdn2stsNyqVzKtAel0bsht5m6LFMSoPABS48oo-qY3kqV5pn4Fu8_NJG3jx3oyzgNFNVeMK2H3aSCpDFG7rPQJ5dIWi0NV-iDlKey-iaEoyrv-vZj9-gG7lJNtpqqTOVbjt6FzLVLAcLmhNOUPIMAlXPj1FAE=w1040-h888-s-no?authuser=0)



### Multi-Store Operation

![](https://lh3.googleusercontent.com/pw/AIL4fc-wpUTzkuIQ0bN7xk0Uaq1xzmNJVPb9snwUaEGnrV1E5OYiQjOh77Wi7TzxA1RM0HLjXvRP7OHerMWGToXAsQd1vtXWUQUwI8aNRYNXXOIhz-idZXU5fDsAl46y_8j6A9eFj-ruhKB8LlKJDsXw0Q-bsSyCCICMaePC_KS471zFw9QMHxYfBuOivu9lv01WBri2xn4gEtWDZRquXIsH4xRVeVIxJz_AHCHgTTSwLLuLojpO8VZw4dcz7g9Cjpl0DoRKpp_aqQRAKRYKbxNoFMiRvDc8EdqnT_NGQ7wbGYEI7tZlP6NwEs1DX46TWouzbhv0uhm_wGVXUjvKQBPP9-Tz5SfrqxuB1Frg1zHqhLAwBt0zwvfwJl4i9YmTBu5zkxtGDzWwP3cqUM1a-c9-yluvtMalmDA537w6iTi_RVFop3H7LzVjIqwoyCbIcplFi6IfiIhN76-7J9yLkTv-hn0_hZfnONu7xzD6LfN2WMYKhOq5dVaNSgxoHDg-GtLP7e4y2sIdIhvoRNgRtizd54qja5Ti2J_6dXVOPqY0hLexk6cgR6A5tF2rjIRDzgf0fppbj_Mq_XThMCj4LlB_m7eMJYgbMvVOWZoI1Y_fPEG5fMNHEN-bGb5hREOJhvTfIYyOv3t_YlrLxlCWGM0ZkREOTPpGqOoHI_EzGbJSt1BmLHBKkL9yBqEoa6mbDRpuMoVraTTV8Sg7M6GooXTzW4U-9Yio9QrNSEFgGZsQzJ8OucKSJetWXAUOYQcuoudj1JtL1-DYfouSCdWR30s-V15ZJM1UjqWuzNhn4M4tMggI-hYPJeFZC6LLEWU6sRA4AaXNuwWmJb2Um17iS24uHzCXKrw9dUTpHSzjjL5HtWbk6lmDMf1pKVTuhUKwk-Hu9Yd23C50FQ3Y4j0cVFl79ghtYTVQwZHgHiqLaSNMMpTKB3HxIKAbz34Af3MuiuU=w286-h389-s-no?authuser=0)

Have multiple outlets? No problem! With our system, you can manage orders, menus, and operations across multiple stores from a single account.

### Instantaneous Statistics
With an intuitive dashboard, gain insights into your sales and order statistics. This provides a pivotal advantage in understanding customer preferences and optimizing the menu accordingly.

*Will add more statistic about stocks*

![](https://lh3.googleusercontent.com/pw/AIL4fc_TpG08rcDQQ3llxl3xScO1DoqNLvdR7NnA0EJ9lZfZB6Xj378Hr3AJFJZn9O_3C2mkughmYN4mKX2jgZ4EVZxQJHi_saMkR_R9pCqXVDpHOTnuWdMxfWmlJd9G9008PgKaFbM3e0Gx0-1yisKUXYS0VI9YnTM77pQGyj3fFz55XJi79EgYGBZAS6LW4PF4BfOO6O7sE__9xpAE65mpt25bfkowt98S2UbF-f2LOa65-VUHQZowYU3_TAruL7r4gPdnlK5GBeK9fMNKBFbh2OgTvBwy2bxwEvTCmwwOKwDeAR7pyywG9A2wRyrI9prsThFIVbRl9dmcMKfi--9QBsAtT99IhVheorN9GMb4hxQ-pU_UjoBIYAnE7Yml82QM6uoM7a9yDmujg0VKbYFIax5t2QNKUim5iT3E1WkRGJeJtm-fkwTr5Nl3OZqWEYWNUacU169fLODSfz3lphjdGGXvdBqVOiOdmsoE20wUoiCcxmHZ2SfgFB5JCmLV2-ad3-ND4FHssiXSeH_7pSBOisu4BMga_p9fLwryvKZ4ZBX4A0IhRDP4767pwR7fPRUKD3TBf4rHFwFxHVEYVEkWBbEiDTTMyt8xsw7fuR2rXDGTBtqypk6EeL89h4EkdSs2BZA1HX0dMwich3_R5oLDtKQYYLrJ3uTgLleyI2XLHCgqu7sNuGIEllQ1V3lV90NMKjExp2TaT8vEpzfbkp84DzcKNzDYTjbIhjveFBqxsroIfyAksrIXuDI1S6vkYHijCHIruuHeR0FVntuL0pB6KkRxMgkJaTMwZvI6kR68CcccbKi_gtMP2oE7oiPoYlDVjHPth2pZpI81k47XX_x69SFYFJUdc1AjoffGgqeLhQdY5YA0WN8sSzfBKdCER54h-AtyurDbuB4ThgXPWq0mazKfti15nr95J9sTEJipyheeoAm8wLlm1opt0ENpGtM=w1200-h573-s-no?authuser=0)

### Easy Setup and Management
Setting up an online storefront has never been this easy. Within 10 minutes, one can establish a sleek and user-friendly store interface. The system also permits hassle-free product updates. Adding new tables? Our automatic QR code generator will handle that for you.


#### How I optimized the store that users see

`Advanced Cart State Management in the Project`

- The backend and frontend are hosted on separate servers.
- The frontend manages the cart, item quantity, and emptying the cart.
- The global state is managed using a map that takes dynamic queries of storeId and tableId as keys. These are then linked to PersistStorage, thereby minimizing internet usage.
- The only query executed when customers scan a QR code and choose a menu is one that fetches products for each category.
Code Overview:

`Interfaces`

- CartItem: Represents an item in the cart with its product details and quantity.
- CartStore: Represents the entire cart, and has functions to add, remove, change item quantity, and clear the cart.
- Caching Mechanism:
A map named storeCache is utilized to cache the cart states, making retrieval faster.

`useCart Function`
- This is a zustand-based hook to manage the cart state.

- It takes storeId and tableId as parameters to create a unique storeKey.
- If the cart state for a particular storeKey exists in the cache, it returns it directly.
- If not, it creates a new state with create and persist, allowing the cart items to be added, removed, and modified.
- The cart state is stored in the browser's local storage with a unique name, cart-storage-${storeId}-${tableId}, ensuring each table at a store has its own cart state.
- Notifications are sent using toast.success whenever items are added or removed.
This zustand code effectively manages the cart's state, leveraging caching and persistent storage to enhance user experience.



### Connectivity with Minimal Internet
Recognizing the challenges posed by weak internet connectivity in certain regions, we've optimized our system to function smoothly with minimal internet access.

### Database Architecture Highlights

The database's heart is the Store table, around which all other entities revolve. Each store can have multiple Billboards, Categories, and Tables, representing various promotional displays, menu categories, and seating arrangements, respectively.

Products, the essence of any store, reside within the Product table and are associated with specific categories. Each product can have multiple images, allowing for a visually rich menu. As orders pour in, they're tracked in the Order and OrderItem tables, facilitating real-time updates for the kitchen and administrative staff.

In conclusion, this Point Of Sale System isn't just a digital tool—it's a transformative experience for both diners and restaurateurs. In the digital age, it bridges the gap between traditional dining and modern-day convenience, ensuring a seamless dining journey for all.






## The flow of the admin and store

![aa](https://lh3.googleusercontent.com/pw/AIL4fc8gpxQvTUgKQ3BcGWZ4BNDI6LfiejvcYFsQhHMbDZKIUfO3q72N21DP9nxP9SwWOtfVbQavYCTDXTzs3nZq1Ggh4kUnyKcpIxvtNWhFJ6dEYPDmGgXzBuHqD02aTB8zW8eFUgyG8IAMg2smHlaxPXZrKzzBdXcdTFFjxd_mXh7SHaqz8lrkzsKV7pa0TepjP1KlvLdXjseLq8IKzWgzIsfXT9Lp2xfgk3raES0tkbrprspTyn5hCH1L2RCb5fgzcEI4dKO8u6zjvjnwlgNOKPBhFo9UCgSz1h88T_6OXpfYByi9NU_tqM7AmaONrNi09bp5mDoX-1SG5Tj6Vcc4n8Niv-mXN5ss19L-FBjstfkszEyFRGvd0oi9aj7xUDjaQYnWSh53jx27-ZfFifj2u6celu0iGtf3XkDFz9wSuiI91thJiW_przApjiOmTDQGiL8F3x2x-MmYIMsm5LTHAEK4G4wRCRk_Cgw6crijRKAoMTnC8sHlUW2I1qKS0r5kbtQe0Ah60Sd6D13lFeLJlwXlWGoeLGG2eoUiASEtPDxhtBy12CQuoqBfJ_M642pwWZ7nlnYotz_4m8lZusGlNn4-0QRAJBXlZSpvC-tmH5J0zOZv3XSQU8ysa_X7QKw31nh6tjqhVZzfGNcnBF6Zue5dTBulZZ6wSgEynv5x5c4e-Zj3NHEOzSX5wj-f-3Xq7wsZJ63SO_8KEZxyk-P0tNLXNhvjJOFzbBqiIXlkuEU6n6L0su7sZ4QwKb4r9DCVqU8vDk0J1C6EiEamFS1YDTEU9DeKv6Zb4rSjQEKpNFmuX70cG8I7m2OApLzqoYWuk2Vjosd5sxDqpH3iAce8M1ZhX8MSEP4UQEKtu-hWH5T_vupX6vEJZ34L3TAKSQTV3AZ9IxbLdwAtf6hlTI0kFwuwVsVXO5VnVjGhFaV3Gn6fonao9fWRjc9gmBlZL78=w1219-h914-s-no?authuser=0)


**1. Store Management:**

`Store` Table:

- Represents individual stores or restaurants.
- Each `Store` is uniquely identified by an `id`.
- Has a `name` to represent the name of the store.
- Each store is associated with a `userId`, indicating which user manages or owns that store.

**2. Product and Category Management:**

`Category` Table:

- Represents the various categories of products (like "Appetizers", "Main Course", etc.).
- Each `Category` is associated with a particular `Store` through `storeId`.
- Each category can also be associated with a `Billboard` (which seems to be an advertisement or featured display for that category) using `billboardId`.

`Product` Table:

- Represents the individual items or dishes available for order in a store.
- Each `Product` is associated with a particular `Category` through `categoryId`.
- Products have various attributes like `name`, `price`, `description`, and flags to indicate if they are `isFeatured` or `isArchived`.

`Image` Table:

- Represents images of individual products.
- Each image is linked to a `Product` via the `productId`.
- Contains a URL (`url`) pointing to the actual image file.

**3. Table Management and Ordering:**

`Table` Table (a bit of a tongue-twister):

- Represents the physical tables inside a store.
- Each table is associated with a particular `Store` through `storeId`.
- Tables have an `isPaid` flag to indicate if the current orders on that table have been paid or not.

`Order` Table:

- Represents orders placed by customers.
- Each order is linked to a `Store` via the `storeId`.
- Orders have different states, represented by the `orderState` enum. It can be "NOTREADY", "IN_PROGRESS", "READY", or "PAID".
- The `isPaid` flag indicates if the order has been paid for or not.
- Each order is associated with a table through `tableId`, indicating where the order is placed.

`OrderItem` Table:

- Represents individual items within an order.
- Each `OrderItem` is linked to a specific order using `orderId` and to a specific product using `productId`.
- The `count` represents the quantity of that product in the order.

**4. Billboard Management:**

`Billboard` Table:

- Represents billboards or advertisements for specific categories or promotional events.
- Each billboard is associated with a specific `Store` through `storeId`.
- Has attributes like `label` and `imageUrl` to display the content of the billboard.


## [TOTAL ORDER TABLE WILL BE ADDED!]

**Relationships:**

- A user can manage multiple stores, but each store is associated with only one user.
- Each store can have multiple tables, categories, products, billboards, and orders.
- A category belongs to one store and can be associated with one billboard.
- A product belongs to one category and one store.
- Each product can have multiple images.
- An order is associated with one store and one table and can have multiple order items.
- An order item is linked to one product and one order.
- Each billboard is associated with one store.
